<Home_Screen>:
    name: "home"
    MDBoxLayout:
        orientation: "vertical"
        md_bg_color: "#F5F5F5"
        MDTopAppBar:
            id: appbar
            title: "Tessa"
            elevation: 4
            pos_hint: {"top": 1}
            md_bg_color: "#F8B22D"
            specific_text_color: "#4a4939"
            left_action_items: [["menu", lambda x: (nav_drawer.set_state("open") if root.usertype == "Admin" else nav_drawer_member.set_state("open"))]]
        MDFloatLayout:
            md_bg_color: 1,1,1,1
            md_bg_color: "#F5F5F5"
# Main Amount card 
            MDFloatLayout: #Recent txn 
                size_hint: .85,.32
                pos_hint:{"center_x":0.5,"center_y":0.8}
                # MDFloatLayout:
                MDLabel:
                    id: grp_name
                    text: root.selected_group
                    font_size: "20sp"
                    pos_hint: {"center_x": .5, "center_y": 1}
            MDFloatLayout:
                size_hint: .85,.16
                pos_hint:{"center_x":0.5,"center_y":0.8} 
                orientation: 'horizontal'       
                MDFloatLayout:
                    size_hint: 1,1.7
                    pos_hint:{"center_x":0.5,"center_y":0.25} 
                    # orientation: 'horizontal'
                    MDCard:
                        # size_hint: .42,1
                        pos_hint: {"center_x": .5, "center_y": .5}
                        ripple_behavior: False
                        adaptive_size: True
                        # md_bg_color:"#03002F"
                        elevation: 2
                        padding: "10dp"
                        radius: 15
                        MDFloatLayout:
                            # md_bg_color: 1,1,1,1
                            MDFloatLayout:
                                size_hint: 0.98,.18
                                pos_hint:{"center_x":0.5,"center_y":.95}
                                
                                MDLabel:        
                                    text:"Fund Amount"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "18sp"
                                    pos_hint:{"center_x":0.55,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                # MDLabel:        
                                #     text:"Total Due"
                                #     font_name: 'assets/fonts/Roboto-Regular.ttf'
                                #     font_size: "14sp"
                                #     pos_hint:{"center_x":0.90,"center_y":.01}
                                #     color: rgba(1,1,1,255)
                                # MDLabel:        
                                #     text:"Total Loan"
                                #     font_name: 'assets/fonts/Roboto-Regular.ttf'
                                #     font_size: "14sp"
                                #     pos_hint:{"center_x":1.25,"center_y":.01}
                                #     color: rgba(1,1,1,255)
                            MDFloatLayout:
                                size_hint: 0.98,.18
                                pos_hint:{"center_x":0.5,"center_y":.75}
                                
                                MDLabel:
                                    markup: True        
                                    id: Animated_label        
                                    text:"₹ "+str(int(root.value))
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "22sp"
                                    pos_hint:{"center_x":0.55,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                
                                # MDLabel:
                                #     markup: True        
                                #     text:"1.6[font=assets//fonts/Roboto-Regular.ttf]K[/font]"
                                #     font_name: 'assets/fonts/Roboto-Regular.ttf'
                                #     font_size: "16sp"
                                #     pos_hint:{"center_x":0.90,"center_y":.01}
                                #     color: rgba(1,1,1,255)
                                # MDLabel:
                                #     markup: True        
                                #     text:"30[font=assets//fonts/Roboto-Regular.ttf]K[/font]"
                                #     font_name: 'assets/fonts/Roboto-Regular.ttf'
                                #     font_size: "16sp"
                                #     pos_hint:{"center_x":1.25,"center_y":.01}
                                #     color: rgba(1,1,1,255)
                            MDFloatLayout:
                                size_hint: 0.98,.16
                                pos_hint:{"center_x":0.5,"center_y":.50}
                                # MDIcon:
                                #     icon: "assets/img/icon_s.png"
                                #     font_size: "25sp"
                                #     size_hint: 0.3,.3
                                #     pos_hint:{"center_x":.03,"center_y":.52}
                                MDLabel:        
                                    text:"As on date 23 Mar 2023"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":.55,"center_y":.52}
                                    color:  "#7E8899"
                            MDFloatLayout:
                                size_hint: 0.98,.18
                                pos_hint:{"center_x":0.5,"center_y":.40}
                                
                                MDLabel:        
                                    text:"Total Loan"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":0.55,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                MDLabel:        
                                    text:"Loan Available"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":.85,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                MDLabel:        
                                    text:"Total Due"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":1.25,"center_y":.01}
                                    color: rgba(1,1,1,255)
                            MDFloatLayout:
                                size_hint: 0.98,.18
                                pos_hint:{"center_x":0.5,"center_y":.20}
                                
                                MDLabel:        
                                    text:"₹ 999K"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "20sp"
                                    pos_hint:{"center_x":0.55,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                MDLabel:        
                                    text:"₹ 999K"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "20sp"
                                    pos_hint:{"center_x":0.90,"center_y":.01}
                                    color: rgba(1,1,1,255)
                                MDLabel:        
                                    text:"₹ 999K"
                                    font_name: 'assets/fonts/Roboto-Regular.ttf'
                                    font_size: "20sp"
                                    pos_hint:{"center_x":1.25,"center_y":.01}
                                    color: rgba(1,1,1,255)
# Monthly Amount and Due
            MDFloatLayout:
                # md_bg_color: 0,0,0,1
                size_hint: .90,.14
                pos_hint:{"center_x":0.5,"center_y":0.52}
                MDFloatLayout:
                    # md_bg_color:"#F2812A"
                    # size_hint: .23,.99
                    pos_hint:{"center_x":0.5,"center_y":.5} 
                    MDCard:
                        size_hint: .42,.99
                        pos_hint: {"center_x": .25, "center_y": .5}
                        ripple_behavior: False
                        adaptive_size: True
                        # md_bg_color:"#999999"
                        elevation: 2
                        padding: "10dp"
                        radius: 15
                        MDFloatLayout:
                            # md_bg_color: 1,1,1,1
                            MDFloatLayout:
                                size_hint: 0.98,.16
                                pos_hint:{"center_x":0.55,"center_y":.86}
                                
                                MDLabel:        
                                    text:"Min Due"
                                    font_name: 'assets/fonts/EncodeSans-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":.5,"center_y":.52}
                                    color: rgba(1,1,1,255)
                            MDIconButton:
                                icon: "assets\img\google-pay-Logo-PNG_awihaa.png"
                                pos_hint:{"center_x":.85,"center_y":.45} 
                                icon_size: "30sp"
                                on_release: root.open_gpay()
                        
                            MDLabel:        
                                text:"₹ 90[size=20sp]K[/size]"
                                markup:True
                                font_name: 'assets/fonts/Roboto-Regular.ttf'
                                font_size: "20sp"
                                pos_hint:{"center_x":.57,"center_y":.35} 
                    MDCard:
                        size_hint: .42,.99
                        pos_hint: {"center_x": .75, "center_y": .5}
                        ripple_behavior: False
                        adaptive_size: True
                        # md_bg_color:"#999999"
                        elevation: 2
                        padding: "10dp"
                        radius: 15
                        MDFloatLayout:
                            # md_bg_color: 1,1,1,1
                            MDFloatLayout:
                                size_hint: 0.98,.16
                                pos_hint:{"center_x":0.55,"center_y":.86}
                                
                                MDLabel:        
                                    text:"Total Due"
                                    font_name: 'assets/fonts/EncodeSans-Regular.ttf'
                                    font_size: "15sp"
                                    pos_hint:{"center_x":.5,"center_y":.52}
                                    color: rgba(1,1,1,255)
                            MDIconButton:
                                icon: "assets\img\google-pay-Logo-PNG_awihaa.png"
                                pos_hint:{"center_x":.85,"center_y":.45} 
                                icon_size: "30sp"
                                on_release: root.open_gpay()
                            MDLabel:        
                                text:"₹ 10[size=20sp]K[/size]"
                                markup:True
                                font_name: 'assets/fonts/Roboto-Regular.ttf'
                                font_size: "20sp"
                                pos_hint:{"center_x":.57,"center_y":.35}            
            MDFloatLayout: #Recent txn 
                size_hint: .85,.32
                pos_hint:{"center_x":0.5,"center_y":0.25}
                # MDFloatLayout:
                MDLabel:
                    text: "Your Upcoming Transactions"
                    font_size: "20sp"
                    pos_hint: {"center_x": .5, "center_y": 1}        
# Libilities
             
            MDBoxLayout: #Recent txn 
                size_hint: .90,.37
                pos_hint:{"center_x":0.5,"center_y":0.2}
                # md_bg_color:"#F2812A"

                
                # MDFloatLayout:
                #     # md_bg_color:"#F2812A"
                #     # size_hint: .23,.99
                #     pos_hint:{"center_x":0.5,"center_y":.5}
                RecycleView:
                    id: rh
                    key_viewclass: 'viewclass'
                    key_size: 'height'

                    RecycleBoxLayout:
                        spacing: dp(10)
                        padding: dp(10)
                        default_size: None, dp(70)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 16, 16, 0)

        MDNavigationDrawerMenu:

            MDNavigationDrawerHeader:
                title: "Tessa"
                title_color: "#4a4939"
                text: "Create Better Future"
                source:"assets/img/icon_L.png"
                spacing: "4dp"
                padding: "12dp", 0, 0, "36dp"
            MDNavigationDrawerDivider:

            DrawerClickableItem:
                icon: "view-dashboard"
                # right_text: "+99"
                text_right_color: "#4a4939"
                text: "Dashboard"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("home")

            DrawerClickableItem:
                icon: "chart-pie"
                # right_text: "+99"
                text_right_color: "#4a4939"
                text: "folio"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("holdings")

            DrawerClickableItem:
                icon: "account-cog"
                text: "Admin"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("admin")
            # DrawerClickableItem:
            #     icon: "list-box"
            #     text: "Member List"
            #     on_release:
            #         nav_drawer.set_state("close")
            #         app.screen_manager.change_screen("memberlist")
            
            DrawerClickableItem:
                icon: "bank-transfer"
                text: "Transactions"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("transactions")
            DrawerClickableItem:
                icon: "bell"
                text: "Notifications"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("notifications")
            DrawerClickableItem:
                icon: "swap-horizontal"
                text: "Switch Group"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("groupselection")
            DrawerClickableItem:
                icon: "account-circle"
                text: "Profile"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("profile")
            MDNavigationDrawerDivider:

            MDNavigationDrawerLabel:
                text: "Rules and Regulations"

            DrawerLabelItem:
                icon: "information-outline"
                text: "Rules & Regulations"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("transactions")
    
    # left_action_items: [["menu", lambda x: (nav_drawer.set_state("open") if root.usertype == "Admin" else nav_drawer_member.set_state("open"))]]
    MDNavigationDrawer:
        id: nav_drawer_member
        radius: (0, 16, 16, 0)

        MDNavigationDrawerMenu:

            MDNavigationDrawerHeader:
                title: "Tessa"
                title_color: "#4a4939"
                text: "Create Better Future"
                source:"assets/img/icon_L.png"
                spacing: "4dp"
                padding: "12dp", 0, 0, "36dp"
            MDNavigationDrawerDivider:

            DrawerClickableItem:
                icon: "view-dashboard"
                # right_text: "+99"
                text_right_color: "#4a4939"
                text: "Dashboard"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("home")

            DrawerClickableItem:
                icon: "chart-pie"
                # right_text: "+99"
                text_right_color: "#4a4939"
                text: "folio"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("holdings")
            
            DrawerClickableItem:
                icon: "bank-transfer"
                text: "Transactions"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("transactions")
            DrawerClickableItem:
                icon: "bell"
                text: "Notifications"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("notifications")
            DrawerClickableItem:
                icon: "swap-horizontal"
                text: "Switch Group"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("groupselection")
            DrawerClickableItem:
                icon: "account-circle"
                text: "Profile"
                on_release:
                    nav_drawer_member.set_state("close")
                    app.screen_manager.change_screen("profile")
            MDNavigationDrawerDivider:

            MDNavigationDrawerLabel:
                text: "Rules and Regulations"

            DrawerLabelItem:
                icon: "information-outline"
                text: "Rules & Regulations"
                on_release:
                    nav_drawer.set_state("close")
                    app.screen_manager.change_screen("transactions")


    


<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#F8B22D"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#c5bdd2"
    selected_color: "#F8B22D"


<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#4a4939"
    _no_ripple_effect: True


<RecentTxn>
    size_hint: .98,.73
    # pos_hint: {"center_x": .5, "center_y": .5}
    ripple_behavior: False
    adaptive_size: True
    padding: "10dp"
    border: dp(5)
    # elevation: 0
    # radius: 10
    # on_release: root.show_example_list_bottom_sheet()
    MDFloatLayout:
        # md_bg_color: 1,1,1,1
        MDFloatLayout:
            # size_hint: 0.98,.16
            # md_bg_color:rgba(0,0,0,255)
            pos_hint:{"center_x":0.5,"center_y":.85}
            
            MDLabel:        
                text:root.Date
                # halign: "left"
                font_name: 'assets/fonts/EncodeSans-Regular.ttf'
                font_size: "13sp"
                # halign:"center"
                pos_hint:{"center_x":.55,"center_y":.52}
                color:  "#7E8899"

            MDLabel:        
                text:root.txn_type
                # halign: "left"
                font_name: 'assets/fonts/EncodeSans-Regular.ttf'
                font_size: "13sp"
                # halign:"center"
                pos_hint:{"center_x":1.3,"center_y":.52}
                color: "#FF5252" if self.text=="Debit" else "#08A045"
        
        MDLabel:        
            text: root.Name
            markup:True
            font_name: 'assets/fonts/EncodeSans-SemiBold.ttf'
            font_size: "15sp"
            pos_hint:{"center_x":.55,"center_y":.20}
        MDLabel:        
            text:str(root.Amount)
            markup:True
            font_name: 'assets/fonts/EncodeSans-SemiBold.ttf'
            font_size: "15sp"
            pos_hint:{"center_x":1.3,"center_y":.20}

